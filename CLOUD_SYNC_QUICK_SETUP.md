# üîÑ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±–ª–∞—á–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ

1. ‚úÖ –ö–æ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤ (`useCloudSync.ts`)
2. ‚úÖ UI –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω (Profile ‚Üí –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)
3. ‚úÖ Stores –æ–±–Ω–æ–≤–ª–µ–Ω—ã (`setTransactions`, `setBudgets`, `setGoals`)
4. ‚úÖ SQL –º–∏–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ (`supabase_migration.sql`)

## üöÄ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å (5 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –≤ Supabase

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Supabase Dashboard](https://supabase.com/dashboard/project/_/sql/new)
2. –í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `supabase_migration.sql`
3. –ù–∞–∂–º–∏—Ç–µ **Run** (–∑–∞–ø—É—Å—Ç–∏—Ç—å)

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

–í Supabase Dashboard ‚Üí **Table Editor** –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è 3 —Ç–∞–±–ª–∏—Ü—ã:
- ‚úÖ `transactions`
- ‚úÖ `budgets`
- ‚úÖ `goals`

### –®–∞–≥ 3: –í–∫–ª—é—á–∏—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

1. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç (Google –∏–ª–∏ Email)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ü—Ä–æ—Ñ–∏–ª—å** ‚Üí **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**
3. –í–∫–ª—é—á–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å **"–û–±–ª–∞—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è"**

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å:
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –æ–±–ª–∞–∫–æ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- ‚úÖ –ü—Ä–∏ –≤—Ö–æ–¥–µ –Ω–∞ –¥—Ä—É–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ ‚Äî –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- ‚úÖ –ú–æ–∂–Ω–æ –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É **Sync** –¥–ª—è —Ä—É—á–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## ‚ùå –ï—Å–ª–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞ "Sync failed"

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –≤ Supabase (—Å–º. –®–∞–≥ 2)
2. RLS (Row Level Security) –≤–∫–ª—é—á–µ–Ω –¥–ª—è –≤—Å–µ—Ö 3 —Ç–∞–±–ª–∏—Ü
3. Policies —Å–æ–∑–¥–∞–Ω—ã (—Å–º. `supabase_migration.sql`)
4. –í—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (session.user.id —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### Transactions (–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
```sql
- id (UUID)
- user_id (UUID) ‚Üí auth.users
- type (TEXT) ‚Üí 'income' | 'expense'
- amount (NUMERIC)
- category (TEXT)
- description (TEXT)
- date (TIMESTAMP)
- tags (TEXT[])
```

### Budgets (–ë—é–¥–∂–µ—Ç—ã)
```sql
- id (UUID)
- user_id (UUID) ‚Üí auth.users
- category (TEXT)
- limit_amount (NUMERIC)
- period (TEXT) ‚Üí 'weekly' | 'monthly'
```

### Goals (–¶–µ–ª–∏)
```sql
- id (UUID)
- user_id (UUID) ‚Üí auth.users
- name (TEXT)
- target_amount (NUMERIC)
- current_amount (NUMERIC)
- deadline (TIMESTAMP)
- icon (TEXT)
- is_completed (BOOLEAN)
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ Row Level Security (RLS) –≤–∫–ª—é—á–µ–Ω
- ‚úÖ –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ –∫ `auth.uid()`

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
console.log(useCloudSync.getState().status);

// –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
useCloudSync.getState().syncNow();
```

### –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (Supabase SQL):
```sql
DELETE FROM transactions WHERE user_id = auth.uid();
DELETE FROM budgets WHERE user_id = auth.uid();
DELETE FROM goals WHERE user_id = auth.uid();
```

---

**–ê–≤—Ç–æ—Ä**: FinFlow Team  
**–î–∞—Ç–∞**: 2025  
**–í–µ—Ä—Å–∏—è**: 1.0

